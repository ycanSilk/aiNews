<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯­ä¹‰åŒ–ID URLç¼–ç æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-case {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .result {
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
            font-family: monospace;
        }
        .success {
            background-color: #e8f5e8;
            border: 1px solid #4caf50;
        }
        .info {
            background-color: #e3f2fd;
            border: 1px solid #2196f3;
        }
        h1 {
            color: #333;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>è¯­ä¹‰åŒ–ID URLç¼–ç æµ‹è¯• - æ‹¼éŸ³è½¬æ¢è§£å†³æ–¹æ¡ˆ</h1>
    <div id="testResults"></div>
    
    <div style="background: #fff3cd; padding: 15px; margin: 20px 0; border-radius: 8px; border: 1px solid #ffeaa7;">
      <h3>ğŸ’¡ è§£å†³æ–¹æ¡ˆè¯´æ˜</h3>
      <p><strong>é—®é¢˜1ï¼šä¸­æ–‡ç¼–ç é•¿åº¦</strong> - ä¸­æ–‡URLç¼–ç åä¼šå˜é•¿ï¼Œä½†è¿™æ˜¯Webæ ‡å‡†è¦æ±‚ï¼Œæ— æ³•é¿å…ã€‚</p>
      <p><strong>é—®é¢˜2ï¼šæœªå®šä¹‰å…³é”®è¯</strong> - é€šè¿‡æ‹¼éŸ³è½¬æ¢è§£å†³ï¼Œå°†ä¸­æ–‡è½¬æ¢ä¸ºæ‹¼éŸ³ç¼©çŸ­URLé•¿åº¦ã€‚</p>
      
      <h4>å½“å‰è§£å†³æ–¹æ¡ˆï¼š</h4>
      <p>ä½¿ç”¨é¢„è®¾æ˜ å°„è¡¨å¤„ç†çƒ­é—¨å…¬å¸/äº§å“åç§°ï¼ŒæœªåŒ¹é…æ—¶ä½¿ç”¨é»˜è®¤å€¼</p>
      <ul>
        <li>å…¬å¸æ˜ å°„è¡¨ï¼šç™¾åº¦â†’baiduã€é˜¿é‡Œ/é˜¿é‡Œå·´å·´â†’alibabaã€å“”å“©å“”å“©â†’bilibiliã€åä¸ºâ†’huaweiã€å°ç±³â†’xiaomiã€æ·±åº¦æ±‚ç´¢â†’deepseekç­‰</li>
        <li>äº§å“æ˜ å°„è¡¨ï¼šæ–‡å¿ƒä¸€è¨€â†’yiyanã€ChatGPTâ†’chatgptã€Geminiâ†’geminiã€Copilotâ†’copilotç­‰</li>
        <li>æœªåŒ¹é…æ—¶é»˜è®¤å€¼ï¼šå…¬å¸â†’aiï¼Œäº§å“â†’news</li>
        <li>URLæ ¼å¼ï¼š/news/å…¬å¸-äº§å“-YYYYMMDD001</li>
      </ul>
    </div>

    <script>


        // å…¬å¸åç§°æ˜ å°„è¡¨
         const companyMap = {
           'ç™¾åº¦': 'baidu',
           'é˜¿é‡Œ': 'alibaba',
           'é˜¿é‡Œå·´å·´': 'alibaba',
           'å“”å“©å“”å“©': 'bilibili',
           'åä¸º': 'huawei',
           'å°ç±³': 'xiaomi',
           'æ·±åº¦æ±‚ç´¢': 'deepseek',
           'æ–‡å¿ƒä¸€è¨€': 'yiyan',
           'openai': 'openai',
           'google': 'google',
           'microsoft': 'microsoft',
           'meta': 'meta',
           'tesla': 'tesla',
           'deepseek': 'deepseek'
         };

         // äº§å“åç§°æ˜ å°„è¡¨
         const productMap = {
           'æ–‡å¿ƒä¸€è¨€': 'yiyan',
           'chatgpt': 'chatgpt',
           'gemini': 'gemini',
           'copilot': 'copilot',
           'llama': 'llama',
           'optimus': 'optimus',
           'æ˜‡è…¾': 'ascend',
           'èŠ¯ç‰‡': 'chip'
         };

         // ç®€åŒ–çš„è¯­ä¹‰åŒ–IDç”Ÿæˆå‡½æ•°ï¼ˆåŒ…å«æ˜ å°„è¡¨åŠŸèƒ½ï¼‰
        function generateSemanticId(title, date, sequence = 1, customCompany, customProduct) {
            const companyPatterns = [
                'openai', 'chatgpt', 'google', 'gemini', 'microsoft', 'copilot', 'meta', 'llama',
                'tesla', 'nvidia', 'amd', 'intel', 'apple', 'amazon', 'aws', 'anthropic', 'claude',
                'baidu', 'ernie', 'alibaba', 'tencent', 'huawei', 'samsung', 'ibm', 'oracle',
                'tsinghua', 'thudm', 'æ¸…åå¤§å­¦', 'åä¸º', 'ç™¾åº¦', 'é˜¿é‡Œå·´å·´', 'è…¾è®¯'
            ];

            const productPatterns = [
                'gpt', 'dall-e', 'midjourney', 'stable diffusion', 'bard', 'palm', 'bert',
                'tensorflow', 'pytorch', 'keras', 'transformers', 'huggingface', 'langchain',
                'autogpt', 'agentgpt', 'babyagi', 'pinecone', 'weaviate', 'chroma',
                'llama', 'mistral', 'falcon', 'bloom', 'opt', 't5', 'blenderbot',
                'claude', 'anthropic', 'cohere', 'ai21', 'stability', 'runway',
                'replicate', 'together', 'banana', 'modal', 'beam', 'vast', 'lambda',
                'cerebras', 'graphcore', 'sambanova', 'groq', 'mythic', 'tenstorrent'
            ];

            const lowerTitle = title.toLowerCase();
            
            let company = customCompany || '';
            if (!company) {
                // é¦–å…ˆæ£€æŸ¥æ˜ å°„è¡¨ä¸­çš„å…¬å¸åç§°
                for (const [chineseName, englishName] of Object.entries(companyMap)) {
                    if (lowerTitle.includes(chineseName.toLowerCase()) || lowerTitle.includes(englishName)) {
                        company = englishName;
                        break;
                    }
                }
                
                // å¦‚æœæ²¡æœ‰åŒ¹é…çš„æ˜ å°„ï¼Œæ£€æŸ¥å…¶ä»–å¸¸è§æ¨¡å¼
                if (!company) {
                    for (const pattern of companyPatterns) {
                        if (lowerTitle.includes(pattern.toLowerCase())) {
                            company = pattern.toLowerCase();
                            break;
                        }
                    }
                }
            }

            // æŸ¥æ‰¾äº§å“åç§°ï¼ˆä¼˜å…ˆä½¿ç”¨è‡ªå®šä¹‰çš„äº§å“åï¼‰
            let product = customProduct || '';
            if (!product) {
                // é¦–å…ˆæ£€æŸ¥æ˜ å°„è¡¨ä¸­çš„äº§å“åç§°ï¼ˆä½†æ’é™¤å·²ç»åœ¨å…¬å¸æ˜ å°„è¡¨ä¸­åŒ¹é…åˆ°çš„åç§°ï¼‰
                 for (const [chineseName, englishName] of Object.entries(productMap)) {
                     if ((lowerTitle.includes(chineseName.toLowerCase()) || lowerTitle.includes(englishName)) && 
                         !company.includes(englishName)) { // é¿å…ä¸å…¬å¸åé‡å¤
                         product = englishName;
                         break;
                     }
                 }
                
                // å¦‚æœæ²¡æœ‰åŒ¹é…çš„æ˜ å°„ï¼Œæ£€æŸ¥å…¶ä»–å¸¸è§æ¨¡å¼
                if (!product) {
                     for (const pattern of productPatterns) {
                         if (lowerTitle.includes(pattern.toLowerCase()) && !company.includes(pattern)) {
                             product = pattern.toLowerCase();
                             break;
                         }
                     }
                 }
            }

            if (!company) company = 'ai';
            if (!product) {
                const words = title.toLowerCase().split(/\s+/);
                const mainWords = words.filter(word => 
                    word.length > 3 && 
                    !['the', 'and', 'or', 'in', 'on', 'at', 'to', 'for', 'with', 'by'].includes(word)
                );
                product = mainWords.slice(0, 2).join('-') || 'news';
            }

            company = company.replace(/[^a-z0-9]/g, '');
            product = product.replace(/[^a-z0-9]/g, '');
            
            // å¦‚æœå…¬å¸æˆ–äº§å“ååŒ…å«éè‹±æ–‡å­—ç¬¦ï¼Œä½¿ç”¨é»˜è®¤å€¼
            if (!/^[a-zA-Z0-9-]+$/.test(company)) {
                company = 'ai';
            }
            if (!/^[a-zA-Z0-9-]+$/.test(product)) {
                product = 'news';
            }
            const formattedDate = date.replace(/-/g, '');
            const formattedSequence = sequence.toString().padStart(3, '0');

            const rawId = `${company}-${product}-${formattedDate}${formattedSequence}`;
            return encodeURIComponent(rawId);
        }

        // æµ‹è¯•ç”¨ä¾‹
        const testCases = [
            { title: "OpenAI releases GPT-5 preview with multimodal capabilities", date: "2025-08-27" },
            { title: "Microsoft announces new Copilot features for Windows 12", date: "2025-08-26" },
            { title: "Google unveils Gemini 2.0 with enhanced reasoning skills", date: "2025-08-25" },
            { title: "Tesla demonstrates fully autonomous driving in urban environments", date: "2025-08-24" },
            { title: "Meta launches Llama 3 with 1 trillion parameters", date: "2025-08-23" },
            { title: "åä¸ºå‘å¸ƒæ–°ä¸€ä»£æ˜‡è…¾AIèŠ¯ç‰‡ï¼Œæ€§èƒ½æå‡200%", date: "2025-08-22" },
            { title: "ç™¾åº¦æ–‡å¿ƒä¸€è¨€4.0æ­£å¼å‘å¸ƒï¼Œæ”¯æŒå¤šæ¨¡æ€ç”Ÿæˆ", date: "2025-08-21" },
            // æµ‹è¯•æœªå®šä¹‰å…³é”®è¯çš„æ¡ˆä¾‹
            { title: "æ·±åº¦æ±‚ç´¢å‘å¸ƒæ–°ä¸€ä»£AIæœç´¢å¼•æ“", date: "2025-08-28", customCompany: "deepseek", customProduct: "ai-search" },
            { title: "å­—èŠ‚è·³åŠ¨æ¨å‡ºå¤šæ¨¡æ€å¤§æ¨¡å‹", date: "2025-08-28", customCompany: "bytedance", customProduct: "multimodal-ai" },
            // æ·»åŠ æ˜ å°„è¡¨ä¸­å…¬å¸åç§°çš„æµ‹è¯•æ¡ˆä¾‹
            { title: "å“”å“©å“”å“©æ¨å‡ºAIè§†é¢‘ç”Ÿæˆå·¥å…·", date: "2025-08-29" },
            { title: "æ–‡å¿ƒä¸€è¨€å¯¹è¯ä½“éªŒä¼˜åŒ–", date: "2025-08-30" },
            { title: "DeepSeekä»£ç åŠ©æ‰‹å‘å¸ƒ", date: "2025-08-31" }
        ];

        const resultsDiv = document.getElementById('testResults');
        
        testCases.forEach((testCase, index) => {
            const encodedId = generateSemanticId(
                testCase.title, 
                testCase.date,
                1,
                testCase.customCompany,
                testCase.customProduct
            );
            const rawId = decodeURIComponent(encodedId);
            
            const testDiv = document.createElement('div');
            testDiv.className = 'test-case';
            
            let customInfo = '';
            if (testCase.customCompany || testCase.customProduct) {
                customInfo = `<div class="result success"><strong>è‡ªå®šä¹‰æ˜ å°„:</strong> company=${testCase.customCompany || 'é»˜è®¤'}, product=${testCase.customProduct || 'é»˜è®¤'}</div>`;
            }
            

            
            testDiv.innerHTML = `
                <h3>æµ‹è¯• ${index + 1}</h3>
                <div><strong>æ ‡é¢˜:</strong> ${testCase.title}</div>
                <div><strong>æ—¥æœŸ:</strong> ${testCase.date}</div>
                ${customInfo}

                <div class="result info"><strong>åŸå§‹ID:</strong> ${rawId}</div>
                <div class="result success"><strong>URLç¼–ç ID:</strong> ${encodedId}</div>
                <div class="result success"><strong>URLé•¿åº¦:</strong> ${encodedId.length} å­—ç¬¦</div>
                <div class="result success"><strong>ç¤ºä¾‹URL:</strong> /news/${encodedId}</div>
                <div class="result info"><strong>URLè§£ç éªŒè¯:</strong> ${decodeURIComponent(encodedId)}</div>
                <div class="result success"><strong>ä¼˜åŒ–æ•ˆæœ:</strong> é€šè¿‡æ˜ å°„è¡¨å°†ä¸­æ–‡åç§°è½¬æ¢ä¸ºè‹±æ–‡æ ‡è¯†ç¬¦ï¼Œç®€åŒ–URLï¼Œç¡®ä¿URLå®‰å…¨æ€§</div>
            `;
            
            resultsDiv.appendChild(testDiv);
        });
    </script>
</body>
</html>